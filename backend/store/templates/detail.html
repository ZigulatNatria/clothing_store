<!DOCTYPE html>
{% extends 'base.html' %}
<html lang="en">
    <body>
        {% block content%}
        {% load static %}
        <!-- Стили для слайдера -->
        <link rel="stylesheet" href="{% static 'slider/style.css' %}" type="text/css" media="screen" />

        <!-- Стили для просмотра изображений -->
        <style type="text/css">
			 #thumbs { padding-top: 10px; overflow: hidden; }
			 #thumbs #largeImage { border: 1px solid gray; padding: 4px; background-color: white; cursor: pointer; }
			 #thumbs { float: left; margin-right: 6px; }
			 #description { background: black; color: white; position: absolute; bottom: 0; padding: 10px 20px; width: 525px; margin: 5px; }
			 #panel { position: relative; }
			 #imgphoto { width: 30%; }
		</style>

        <div class="bg-body-tertiary">
            <ul class="nav justify-content-center" style="background-color: silver; margin-bottom: 1rem;">
                {% for cat in view.nav %}
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="{% url 'category_clothing' cat.id %}" style="color: snow;">{{cat.name}}</a>
              </li>
                {% endfor %}
            </ul>
        </div>
        <div class="container">
            <div class="row align-items-start">
                <div class="col-7" >
                    <div id="panel" style="min-height: 500px; max-height: 500px; background-color: #222; display: flex; align-items: center; justify-content: center;">
                        <img id="largeImage" style="max-width: 100%; max-height: 500px; flex: 0 0 auto; display: flex;" src="{{MEDIA_URL}} {{product.photo_1.url}}" />
                    </div>
                </div>
                <div class="col">
                     <h3>{{ product.name }}</h3>
                     <p style="color: darkgrey;">Арт.{{ product.vendor_code }}</p>
                     <h3 style="color: saddlebrown;">{{ product.price }} ₽</h3>
                     <div class="row">
                         Цвет:
                          {% for color in view.color %}
                            {% if color %}
                            <img style="width: 20%" src="{{MEDIA_URL}} {{color.photo_1.url}}">
                            {% endif %}
                          {% endfor %}
                     </div>
                     <div class="row">
                         <p>Размер:<br>
                         {% for size_product in view.size %}
                            {{ size_product.size }}
                         {% endfor %}
                         </p>
                     </div>
                    <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">Как выбрать размер?</a>
                     <div class="row">
                        <div class="list-group list-group-horizontal" id="list-tab" role="tablist">
                          <a class="list-group-item-action active" id="list-home-list" data-bs-toggle="list" href="#list-home" role="tab" aria-controls="list-home">Описание</a>
                          <a class="list-group-item-action" id="list-profile-list" data-bs-toggle="list" href="#list-profile" role="tab" aria-controls="list-profile">Характеристики</a>
                          <a class="list-group-item-action" id="list-messages-list" data-bs-toggle="list" href="#list-messages" role="tab" aria-controls="list-messages">Состав и уход</a>
                        </div>
                      </div>
                      <div class="row">
                        <div class="tab-content" id="nav-tabContent">
                          <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">{{ product.description }}</div>
                          <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
                              <div class="row">
                                  <table class="table">
                                      <tbody style="border-style: none">
                                          <tr style="border-style: none">
                                              <td style="border-style: none">
                                                  Размер товара на модели:
                                              </td>
                                              <td style="border-style: none">
                                                  {{ product.size_on_model }}
                                              </td>
                                          </tr>
                                          <tr style="border-style: none">
                                              <td style="border-style: none">
                                                  Коллекция:
                                              </td>
                                              <td style="border-style: none">
                                                  {{ product.collection }}
                                              </td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                          <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">{{ product.compound }}</div>
                        </div>
                      </div>

                    <div class="row">
                        <div class="col">
                             <form action="{% url 'cart_add' product.id %}" method="post">
                                 <div hidden>{{ view.product_add_cart }}</div>
                                {% csrf_token %}
                                <button type="submit" class="btn btn-primary" style="margin-top: 10px;
                                                                                    --bs-btn-color: #fff;
                                                                                    --bs-btn-bg: #8b4513;
                                                                                    --bs-btn-border-color: #8b4513;
                                                                                    --bs-btn-hover-color: #fff;
                                                                                    --bs-btn-hover-bg: #b35c1e;
                                                                                    --bs-btn-hover-border-color: #8b4513;
                                                                                    --bs-btn-focus-shadow-rgb: 49,132,253;
                                                                                    --bs-btn-active-color: #fff;
                                                                                    --bs-btn-active-bg: #8b4513;
                                                                                    --bs-btn-active-border-color: #8b4513;
                                                                                    --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                                                                                    --bs-btn-disabled-color: #fff;
                                                                                    --bs-btn-disabled-bg: #8b4513;
                                                                                    --bs-btn-disabled-border-color: #8b4513;"
                                >Добавить в корзину</button>
                            </form>
                        </div>
                        <div class="col">
                            избранное
                        </div>
                    </div>
                 </div>
            </div>
            <div class="row">
                <div class="col-7">
                    <div class="row justify-content-start" id="thumbs">
                        <div class="col-2" style="width: 20%;">
                            <div class="card h-100" style="width: 100%;">
                                <img src="{{MEDIA_URL}}{{product.photo_1.url}}" class="card-img-top" alt="...">
                             </div>
                        </div>
                        <div class="col-2" style="width: 20%;">
                            <div class="card h-100" style="width: 100%;">
                                <img src="{{MEDIA_URL}}{{product.photo_2.url}}" class="card-img-top" alt="...">
                            </div>
                        </div>
                        <div class="col-2" style="width: 20%;">
                            <div class="card h-100" style="width: 100%;">
                                <img src="{{MEDIA_URL}}{{product.photo_3.url}}" class="card-img-top" alt="...">
                            </div>
                        </div>
                        <div class="col-2" style="width: 20%;">
                            <div class="card h-100" style="width: 100%;">
                                <img src="{{MEDIA_URL}}{{product.photo_4.url}}" class="card-img-top" alt="...">
                            </div>
                        </div>
                        <div class="col-2" style="width: 20%;">
                            <div class="card h-100" style="width: 100%;">
                                <img src="{{MEDIA_URL}}{{product.photo_5.url}}" class="card-img-top" alt="...">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Товары из коллекции</p>
                </div>
                <div class="row justify-content-center">
                    <div class="col-6" style="margin-bottom: 10vh">
                        <div id="newsticker-demo">
                            <div class="newsticker-jcarousellite">
                                <ul>
                                     {% for i in view.all_product_collection %}
                                    <li>
                                        <div class="thumbnail">
                                            <div class="card h-100" style="width: 100%;">
                                                <a href="{% url 'product' i.id %}">
                                                    <img src="{{MEDIA_URL}}{{i.photo_1.url}}" class="d-block w-100" alt="...">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="clear"></div>
                                    </li>
                                     {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- JS для просмотра изображений -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>

        <!-- JS для слайдера -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="{% static 'slider/jcarousellite_1.0.1.min.js' %}" type="text/javascript"></script>
        <script type="text/javascript">
        $(function() {
            $(".newsticker-jcarousellite").jCarouselLite({
                vertical: false,
                hoverPause:true,
                visible: 5,
                auto:500,
                speed:1500
            });
        });
        </script>

        <!-- pcvector.net -->
        <script type="text/javascript" src="/templates/pcv/js/pcvector.js"></script>
        <!-- /pcvector.net -->
        <script>
        $('#thumbs').delegate('img','click', function(){
            $('#largeImage').attr('src',$(this).attr('src').replace('thumb','large'));
            $('#description').html($(this).attr('alt'));
        });
        </script>

        <!-- Модальное окно -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Выбор размера</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
              </div>
              <div class="modal-body">
                    <p>
                        Очень интересный рассказ о том ак выбрать размер одежды
                    </p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
              </div>
            </div>
          </div>
        </div>



        {% endblock content %}
    </body>
</html>